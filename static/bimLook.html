<!DOCTYPE html>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
<meta name="renderer" content="webkit">
<meta http-equiv="X-UA-Compatible" content="ie=edge">
<title>bim图纸</title>
<!-- 引用BIMFACE的JavaScript显示组件库 -->
<script src="https://static.bimface.com/api/BimfaceSDKLoader/BimfaceSDKLoader@latest-release.js" charset="utf-8"></script>
<style>
	*{
		padding: 0;
		margin: 0;
	}
    html,body{
      height:100%;
      width:100%;
    }
	#titleInfo{
		color: #ffffff;
		background: rgba(51, 55, 68, 1);
		height: 40px;
		line-height: 37px;
		padding-left: 20px;
	}
	.footerInfo{
		color: #ffffff;
		background: rgba(51, 55, 68, 1);
		text-align: center;
		height: 40px;
		line-height: 40px;
		font-size: 12px;
	}
	#domId{
		width:100%; 
		height:calc(100% - 80px);
	}
</style>
</head>

<body>
<div id="titleInfo"></div>
<!-- 定义DOM元素，用于在该DOM元素中显示模型或图纸 -->
<div id="domId"></div>
<div class="footerInfo">Copyright 2015         陕ICP备15012350号     进度易      华筑科技旗下产品</div>
<script type="text/javascript">

    // 指定待显示的模型或图纸（viewToken从服务端获取）
    var string = window.location.search;
	var str = string.split('=')[1];
	var  names = decodeURI(string.split('=')[2]);
	var title = document.getElementById('titleInfo');
	title.innerHTML = names;
	var viewToken = str;
	
	// 初始化显示组件
	var options = new BimfaceSDKLoaderConfig();
	options.viewToken = viewToken;
	BimfaceSDKLoader.load(options, successCallback, failureCallback);
	
	function successCallback(viewMetaData) {
		// 创建WebApplication，直接显示模型或图纸
		var dom4Show = document.getElementById('domId');
		new Glodon.Bimface.Application.WebApplicationDemo(viewMetaData, dom4Show); 
	}
	
	function failureCallback(error) {
		console.log(error);
	};
</script>
</body>
</html>
