<!DOCTYPE html>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
<meta name="renderer" content="webkit">
<meta http-equiv="X-UA-Compatible" content="ie=edge">
<title>bim图纸</title>
<!-- 引用BIMFACE的JavaScript显示组件库 -->
<script src="https://static.bimface.com/api/BimfaceSDKLoader/BimfaceSDKLoader@latest-release.js" charset="utf-8"></script>
<style>
    html,body{
      height:100%;
      width:100%;
    }
</style>
</head>

<body>

<!-- 定义DOM元素，用于在该DOM元素中显示模型或图纸 -->
<div id="domId" style="width:100%; height:100%"></div>

<script type="text/javascript">

    // 指定待显示的模型或图纸（viewToken从服务端获取）
    var string = window.location.search;
    var str = string.split('=')[1];
	var viewToken = str;
	
	// 初始化显示组件
	var options = new BimfaceSDKLoaderConfig();
	options.viewToken = viewToken;
	BimfaceSDKLoader.load(options, successCallback, failureCallback);
	
	function successCallback(viewMetaData) {
		// 创建WebApplication，直接显示模型或图纸
		var dom4Show = document.getElementById('domId');
		new Glodon.Bimface.Application.WebApplicationDemo(viewMetaData, dom4Show); 
	}
	
	function failureCallback(error) {
		console.log(error);
	};
</script>
</body>
</html>
